<!DOCTYPE html>
<html>

<head>
    <script type="text/javascript">
        var watchID, i = 0;
        function startMyLocation() {
            if (navigator.geolocation) {
                watchID = navigator.geolocation.watchPosition(myCallback);
            }
            else alert("지오로케이션이 지원되지 않습니다.");

        }

        function myCallback(myPosition) {
            var latitude = myPosition.coords.latitude,
                longitude = myPosition.coords.longitude,
                date = new Date(myPosition.timestamp),
                parsedDate = date.toUTCString();
                document.getElementById("display").innerHTML += '<br> [' + (i++) + '] 일시 ' + parsedDate+ ', 위도 ' + latitude + ', 경도 ' + longitude;
        }

        function stopMyLocation() {
            if (navigator.geolocation) {
                navigator.geolocation.clearWatch(watchID);
                document.getElementById("display").innerHTML += '<br> ** 추적 종료! **';
            } 

            else alert("GPS가 지원되지 않습니다.");
        }
    </script>
</head>

<body>
    <h3>연속성 위치정보 요청하기</h3>
    <button onclick="startMyLocation();">추적 시작</button>
    <button onclick="stopMyLocation();">추적 종료</button>
    <div id="display">위치: </div>
</body>

</html>